{
  "version": 3,
  "sources": ["../../pmtiles/dist/index.mjs"],
  "sourcesContent": ["var __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\n// node_modules/fflate/esm/browser.js\nvar u8 = Uint8Array;\nvar u16 = Uint16Array;\nvar u32 = Uint32Array;\nvar fleb = new u8([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, 0, 0, 0]);\nvar fdeb = new u8([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, 0, 0]);\nvar clim = new u8([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]);\nvar freb = function(eb, start) {\n  var b = new u16(31);\n  for (var i = 0; i < 31; ++i) {\n    b[i] = start += 1 << eb[i - 1];\n  }\n  var r = new u32(b[30]);\n  for (var i = 1; i < 30; ++i) {\n    for (var j = b[i]; j < b[i + 1]; ++j) {\n      r[j] = j - b[i] << 5 | i;\n    }\n  }\n  return [b, r];\n};\nvar _a = freb(fleb, 2);\nvar fl = _a[0];\nvar revfl = _a[1];\nfl[28] = 258, revfl[258] = 28;\nvar _b = freb(fdeb, 0);\nvar fd = _b[0];\nvar revfd = _b[1];\nvar rev = new u16(32768);\nfor (i = 0; i < 32768; ++i) {\n  x = (i & 43690) >>> 1 | (i & 21845) << 1;\n  x = (x & 52428) >>> 2 | (x & 13107) << 2;\n  x = (x & 61680) >>> 4 | (x & 3855) << 4;\n  rev[i] = ((x & 65280) >>> 8 | (x & 255) << 8) >>> 1;\n}\nvar x;\nvar i;\nvar hMap = function(cd, mb, r) {\n  var s = cd.length;\n  var i = 0;\n  var l = new u16(mb);\n  for (; i < s; ++i) {\n    if (cd[i])\n      ++l[cd[i] - 1];\n  }\n  var le = new u16(mb);\n  for (i = 0; i < mb; ++i) {\n    le[i] = le[i - 1] + l[i - 1] << 1;\n  }\n  var co;\n  if (r) {\n    co = new u16(1 << mb);\n    var rvb = 15 - mb;\n    for (i = 0; i < s; ++i) {\n      if (cd[i]) {\n        var sv = i << 4 | cd[i];\n        var r_1 = mb - cd[i];\n        var v = le[cd[i] - 1]++ << r_1;\n        for (var m = v | (1 << r_1) - 1; v <= m; ++v) {\n          co[rev[v] >>> rvb] = sv;\n        }\n      }\n    }\n  } else {\n    co = new u16(s);\n    for (i = 0; i < s; ++i) {\n      if (cd[i]) {\n        co[i] = rev[le[cd[i] - 1]++] >>> 15 - cd[i];\n      }\n    }\n  }\n  return co;\n};\nvar flt = new u8(288);\nfor (i = 0; i < 144; ++i)\n  flt[i] = 8;\nvar i;\nfor (i = 144; i < 256; ++i)\n  flt[i] = 9;\nvar i;\nfor (i = 256; i < 280; ++i)\n  flt[i] = 7;\nvar i;\nfor (i = 280; i < 288; ++i)\n  flt[i] = 8;\nvar i;\nvar fdt = new u8(32);\nfor (i = 0; i < 32; ++i)\n  fdt[i] = 5;\nvar i;\nvar flrm = /* @__PURE__ */ hMap(flt, 9, 1);\nvar fdrm = /* @__PURE__ */ hMap(fdt, 5, 1);\nvar max = function(a) {\n  var m = a[0];\n  for (var i = 1; i < a.length; ++i) {\n    if (a[i] > m)\n      m = a[i];\n  }\n  return m;\n};\nvar bits = function(d, p, m) {\n  var o = p / 8 | 0;\n  return (d[o] | d[o + 1] << 8) >> (p & 7) & m;\n};\nvar bits16 = function(d, p) {\n  var o = p / 8 | 0;\n  return (d[o] | d[o + 1] << 8 | d[o + 2] << 16) >> (p & 7);\n};\nvar shft = function(p) {\n  return (p + 7) / 8 | 0;\n};\nvar slc = function(v, s, e) {\n  if (s == null || s < 0)\n    s = 0;\n  if (e == null || e > v.length)\n    e = v.length;\n  var n = new (v.BYTES_PER_ELEMENT == 2 ? u16 : v.BYTES_PER_ELEMENT == 4 ? u32 : u8)(e - s);\n  n.set(v.subarray(s, e));\n  return n;\n};\nvar ec = [\n  \"unexpected EOF\",\n  \"invalid block type\",\n  \"invalid length/literal\",\n  \"invalid distance\",\n  \"stream finished\",\n  \"no stream handler\",\n  ,\n  \"no callback\",\n  \"invalid UTF-8 data\",\n  \"extra field too long\",\n  \"date not in range 1980-2099\",\n  \"filename too long\",\n  \"stream finishing\",\n  \"invalid zip data\"\n];\nvar err = function(ind, msg, nt) {\n  var e = new Error(msg || ec[ind]);\n  e.code = ind;\n  if (Error.captureStackTrace)\n    Error.captureStackTrace(e, err);\n  if (!nt)\n    throw e;\n  return e;\n};\nvar inflt = function(dat, buf, st) {\n  var sl = dat.length;\n  if (!sl || st && st.f && !st.l)\n    return buf || new u8(0);\n  var noBuf = !buf || st;\n  var noSt = !st || st.i;\n  if (!st)\n    st = {};\n  if (!buf)\n    buf = new u8(sl * 3);\n  var cbuf = function(l2) {\n    var bl = buf.length;\n    if (l2 > bl) {\n      var nbuf = new u8(Math.max(bl * 2, l2));\n      nbuf.set(buf);\n      buf = nbuf;\n    }\n  };\n  var final = st.f || 0, pos = st.p || 0, bt = st.b || 0, lm = st.l, dm = st.d, lbt = st.m, dbt = st.n;\n  var tbts = sl * 8;\n  do {\n    if (!lm) {\n      final = bits(dat, pos, 1);\n      var type = bits(dat, pos + 1, 3);\n      pos += 3;\n      if (!type) {\n        var s = shft(pos) + 4, l = dat[s - 4] | dat[s - 3] << 8, t = s + l;\n        if (t > sl) {\n          if (noSt)\n            err(0);\n          break;\n        }\n        if (noBuf)\n          cbuf(bt + l);\n        buf.set(dat.subarray(s, t), bt);\n        st.b = bt += l, st.p = pos = t * 8, st.f = final;\n        continue;\n      } else if (type == 1)\n        lm = flrm, dm = fdrm, lbt = 9, dbt = 5;\n      else if (type == 2) {\n        var hLit = bits(dat, pos, 31) + 257, hcLen = bits(dat, pos + 10, 15) + 4;\n        var tl = hLit + bits(dat, pos + 5, 31) + 1;\n        pos += 14;\n        var ldt = new u8(tl);\n        var clt = new u8(19);\n        for (var i = 0; i < hcLen; ++i) {\n          clt[clim[i]] = bits(dat, pos + i * 3, 7);\n        }\n        pos += hcLen * 3;\n        var clb = max(clt), clbmsk = (1 << clb) - 1;\n        var clm = hMap(clt, clb, 1);\n        for (var i = 0; i < tl; ) {\n          var r = clm[bits(dat, pos, clbmsk)];\n          pos += r & 15;\n          var s = r >>> 4;\n          if (s < 16) {\n            ldt[i++] = s;\n          } else {\n            var c = 0, n = 0;\n            if (s == 16)\n              n = 3 + bits(dat, pos, 3), pos += 2, c = ldt[i - 1];\n            else if (s == 17)\n              n = 3 + bits(dat, pos, 7), pos += 3;\n            else if (s == 18)\n              n = 11 + bits(dat, pos, 127), pos += 7;\n            while (n--)\n              ldt[i++] = c;\n          }\n        }\n        var lt = ldt.subarray(0, hLit), dt = ldt.subarray(hLit);\n        lbt = max(lt);\n        dbt = max(dt);\n        lm = hMap(lt, lbt, 1);\n        dm = hMap(dt, dbt, 1);\n      } else\n        err(1);\n      if (pos > tbts) {\n        if (noSt)\n          err(0);\n        break;\n      }\n    }\n    if (noBuf)\n      cbuf(bt + 131072);\n    var lms = (1 << lbt) - 1, dms = (1 << dbt) - 1;\n    var lpos = pos;\n    for (; ; lpos = pos) {\n      var c = lm[bits16(dat, pos) & lms], sym = c >>> 4;\n      pos += c & 15;\n      if (pos > tbts) {\n        if (noSt)\n          err(0);\n        break;\n      }\n      if (!c)\n        err(2);\n      if (sym < 256)\n        buf[bt++] = sym;\n      else if (sym == 256) {\n        lpos = pos, lm = null;\n        break;\n      } else {\n        var add = sym - 254;\n        if (sym > 264) {\n          var i = sym - 257, b = fleb[i];\n          add = bits(dat, pos, (1 << b) - 1) + fl[i];\n          pos += b;\n        }\n        var d = dm[bits16(dat, pos) & dms], dsym = d >>> 4;\n        if (!d)\n          err(3);\n        pos += d & 15;\n        var dt = fd[dsym];\n        if (dsym > 3) {\n          var b = fdeb[dsym];\n          dt += bits16(dat, pos) & (1 << b) - 1, pos += b;\n        }\n        if (pos > tbts) {\n          if (noSt)\n            err(0);\n          break;\n        }\n        if (noBuf)\n          cbuf(bt + 131072);\n        var end = bt + add;\n        for (; bt < end; bt += 4) {\n          buf[bt] = buf[bt - dt];\n          buf[bt + 1] = buf[bt + 1 - dt];\n          buf[bt + 2] = buf[bt + 2 - dt];\n          buf[bt + 3] = buf[bt + 3 - dt];\n        }\n        bt = end;\n      }\n    }\n    st.l = lm, st.p = lpos, st.b = bt, st.f = final;\n    if (lm)\n      final = 1, st.m = lbt, st.d = dm, st.n = dbt;\n  } while (!final);\n  return bt == buf.length ? buf : slc(buf, 0, bt);\n};\nvar et = /* @__PURE__ */ new u8(0);\nvar gzs = function(d) {\n  if (d[0] != 31 || d[1] != 139 || d[2] != 8)\n    err(6, \"invalid gzip data\");\n  var flg = d[3];\n  var st = 10;\n  if (flg & 4)\n    st += d[10] | (d[11] << 8) + 2;\n  for (var zs = (flg >> 3 & 1) + (flg >> 4 & 1); zs > 0; zs -= !d[st++])\n    ;\n  return st + (flg & 2);\n};\nvar gzl = function(d) {\n  var l = d.length;\n  return (d[l - 4] | d[l - 3] << 8 | d[l - 2] << 16 | d[l - 1] << 24) >>> 0;\n};\nvar zlv = function(d) {\n  if ((d[0] & 15) != 8 || d[0] >>> 4 > 7 || (d[0] << 8 | d[1]) % 31)\n    err(6, \"invalid zlib data\");\n  if (d[1] & 32)\n    err(6, \"invalid zlib data: preset dictionaries not supported\");\n};\nfunction inflateSync(data, out) {\n  return inflt(data, out);\n}\nfunction gunzipSync(data, out) {\n  return inflt(data.subarray(gzs(data), -8), out || new u8(gzl(data)));\n}\nfunction unzlibSync(data, out) {\n  return inflt((zlv(data), data.subarray(2, -4)), out);\n}\nfunction decompressSync(data, out) {\n  return data[0] == 31 && data[1] == 139 && data[2] == 8 ? gunzipSync(data, out) : (data[0] & 15) != 8 || data[0] >> 4 > 7 || (data[0] << 8 | data[1]) % 31 ? inflateSync(data, out) : unzlibSync(data, out);\n}\nvar td = typeof TextDecoder != \"undefined\" && /* @__PURE__ */ new TextDecoder();\nvar tds = 0;\ntry {\n  td.decode(et, { stream: true });\n  tds = 1;\n} catch (e) {\n}\n\n// v2.ts\nvar shift = (n, shift2) => {\n  return n * Math.pow(2, shift2);\n};\nvar unshift = (n, shift2) => {\n  return Math.floor(n / Math.pow(2, shift2));\n};\nvar getUint24 = (view, pos) => {\n  return shift(view.getUint16(pos + 1, true), 8) + view.getUint8(pos);\n};\nvar getUint48 = (view, pos) => {\n  return shift(view.getUint32(pos + 2, true), 16) + view.getUint16(pos, true);\n};\nvar compare = (tz, tx, ty, view, i) => {\n  if (tz != view.getUint8(i))\n    return tz - view.getUint8(i);\n  const x = getUint24(view, i + 1);\n  if (tx != x)\n    return tx - x;\n  const y = getUint24(view, i + 4);\n  if (ty != y)\n    return ty - y;\n  return 0;\n};\nvar queryLeafdir = (view, z, x, y) => {\n  const offset_len = queryView(view, z | 128, x, y);\n  if (offset_len) {\n    return {\n      z,\n      x,\n      y,\n      offset: offset_len[0],\n      length: offset_len[1],\n      is_dir: true\n    };\n  }\n  return null;\n};\nvar queryTile = (view, z, x, y) => {\n  const offset_len = queryView(view, z, x, y);\n  if (offset_len) {\n    return {\n      z,\n      x,\n      y,\n      offset: offset_len[0],\n      length: offset_len[1],\n      is_dir: false\n    };\n  }\n  return null;\n};\nvar queryView = (view, z, x, y) => {\n  let m = 0;\n  let n = view.byteLength / 17 - 1;\n  while (m <= n) {\n    const k = n + m >> 1;\n    const cmp = compare(z, x, y, view, k * 17);\n    if (cmp > 0) {\n      m = k + 1;\n    } else if (cmp < 0) {\n      n = k - 1;\n    } else {\n      return [getUint48(view, k * 17 + 7), view.getUint32(k * 17 + 13, true)];\n    }\n  }\n  return null;\n};\nvar entrySort = (a, b) => {\n  if (a.is_dir && !b.is_dir) {\n    return 1;\n  }\n  if (!a.is_dir && b.is_dir) {\n    return -1;\n  }\n  if (a.z !== b.z) {\n    return a.z - b.z;\n  }\n  if (a.x !== b.x) {\n    return a.x - b.x;\n  }\n  return a.y - b.y;\n};\nvar parseEntry = (dataview, i) => {\n  const z_raw = dataview.getUint8(i * 17);\n  const z = z_raw & 127;\n  return {\n    z,\n    x: getUint24(dataview, i * 17 + 1),\n    y: getUint24(dataview, i * 17 + 4),\n    offset: getUint48(dataview, i * 17 + 7),\n    length: dataview.getUint32(i * 17 + 13, true),\n    is_dir: z_raw >> 7 === 1\n  };\n};\nvar sortDir = (a) => {\n  const entries = [];\n  const view = new DataView(a);\n  for (let i = 0; i < view.byteLength / 17; i++) {\n    entries.push(parseEntry(view, i));\n  }\n  return createDirectory(entries);\n};\nvar createDirectory = (entries) => {\n  entries.sort(entrySort);\n  const buffer = new ArrayBuffer(17 * entries.length);\n  const arr = new Uint8Array(buffer);\n  for (let i = 0; i < entries.length; i++) {\n    const entry = entries[i];\n    let z = entry.z;\n    if (entry.is_dir)\n      z = z | 128;\n    arr[i * 17] = z;\n    arr[i * 17 + 1] = entry.x & 255;\n    arr[i * 17 + 2] = entry.x >> 8 & 255;\n    arr[i * 17 + 3] = entry.x >> 16 & 255;\n    arr[i * 17 + 4] = entry.y & 255;\n    arr[i * 17 + 5] = entry.y >> 8 & 255;\n    arr[i * 17 + 6] = entry.y >> 16 & 255;\n    arr[i * 17 + 7] = entry.offset & 255;\n    arr[i * 17 + 8] = unshift(entry.offset, 8) & 255;\n    arr[i * 17 + 9] = unshift(entry.offset, 16) & 255;\n    arr[i * 17 + 10] = unshift(entry.offset, 24) & 255;\n    arr[i * 17 + 11] = unshift(entry.offset, 32) & 255;\n    arr[i * 17 + 12] = unshift(entry.offset, 48) & 255;\n    arr[i * 17 + 13] = entry.length & 255;\n    arr[i * 17 + 14] = entry.length >> 8 & 255;\n    arr[i * 17 + 15] = entry.length >> 16 & 255;\n    arr[i * 17 + 16] = entry.length >> 24 & 255;\n  }\n  return buffer;\n};\nvar deriveLeaf = (view, tile) => {\n  if (view.byteLength < 17)\n    return null;\n  const numEntries = view.byteLength / 17;\n  const entry = parseEntry(view, numEntries - 1);\n  if (entry.is_dir) {\n    const leaf_level = entry.z;\n    const level_diff = tile.z - leaf_level;\n    const leaf_x = Math.trunc(tile.x / (1 << level_diff));\n    const leaf_y = Math.trunc(tile.y / (1 << level_diff));\n    return { z: leaf_level, x: leaf_x, y: leaf_y };\n  }\n  return null;\n};\nfunction getHeader(source) {\n  return __async(this, null, function* () {\n    const resp = yield source.getBytes(0, 512e3);\n    const dataview = new DataView(resp.data);\n    const json_size = dataview.getUint32(4, true);\n    const root_entries = dataview.getUint16(8, true);\n    const dec = new TextDecoder(\"utf-8\");\n    const json_metadata = JSON.parse(\n      dec.decode(new DataView(resp.data, 10, json_size))\n    );\n    let tile_compression = 0 /* Unknown */;\n    if (json_metadata.compression === \"gzip\") {\n      tile_compression = 2 /* Gzip */;\n    }\n    let minzoom = 0;\n    if (\"minzoom\" in json_metadata) {\n      minzoom = +json_metadata.minzoom;\n    }\n    let maxzoom = 0;\n    if (\"maxzoom\" in json_metadata) {\n      maxzoom = +json_metadata.maxzoom;\n    }\n    let center_lon = 0;\n    let center_lat = 0;\n    let center_zoom = 0;\n    let min_lon = -180;\n    let min_lat = -85;\n    let max_lon = 180;\n    let max_lat = 85;\n    if (json_metadata.bounds) {\n      const split = json_metadata.bounds.split(\",\");\n      min_lon = +split[0];\n      min_lat = +split[1];\n      max_lon = +split[2];\n      max_lat = +split[3];\n    }\n    if (json_metadata.center) {\n      const split = json_metadata.center.split(\",\");\n      center_lon = +split[0];\n      center_lat = +split[1];\n      center_zoom = +split[2];\n    }\n    const header = {\n      specVersion: dataview.getUint16(2, true),\n      rootDirectoryOffset: 10 + json_size,\n      rootDirectoryLength: root_entries * 17,\n      jsonMetadataOffset: 10,\n      jsonMetadataLength: json_size,\n      leafDirectoryOffset: 0,\n      leafDirectoryLength: void 0,\n      tileDataOffset: 0,\n      tileDataLength: void 0,\n      numAddressedTiles: 0,\n      numTileEntries: 0,\n      numTileContents: 0,\n      clustered: false,\n      internalCompression: 1 /* None */,\n      tileCompression: tile_compression,\n      tileType: 1 /* Mvt */,\n      minZoom: minzoom,\n      maxZoom: maxzoom,\n      minLon: min_lon,\n      minLat: min_lat,\n      maxLon: max_lon,\n      maxLat: max_lat,\n      centerZoom: center_zoom,\n      centerLon: center_lon,\n      centerLat: center_lat,\n      etag: resp.etag\n    };\n    return header;\n  });\n}\nfunction getZxy(header, source, cache, z, x, y, signal) {\n  return __async(this, null, function* () {\n    let root_dir = yield cache.getArrayBuffer(\n      source,\n      header.rootDirectoryOffset,\n      header.rootDirectoryLength,\n      header\n    );\n    if (header.specVersion === 1) {\n      root_dir = sortDir(root_dir);\n    }\n    const entry = queryTile(new DataView(root_dir), z, x, y);\n    if (entry) {\n      const resp = yield source.getBytes(entry.offset, entry.length, signal);\n      let tile_data = resp.data;\n      const view = new DataView(tile_data);\n      if (view.getUint8(0) == 31 && view.getUint8(1) == 139) {\n        tile_data = decompressSync(new Uint8Array(tile_data));\n      }\n      return {\n        data: tile_data\n      };\n    }\n    const leafcoords = deriveLeaf(new DataView(root_dir), { z, x, y });\n    if (leafcoords) {\n      const leafdir_entry = queryLeafdir(\n        new DataView(root_dir),\n        leafcoords.z,\n        leafcoords.x,\n        leafcoords.y\n      );\n      if (leafdir_entry) {\n        let leaf_dir = yield cache.getArrayBuffer(\n          source,\n          leafdir_entry.offset,\n          leafdir_entry.length,\n          header\n        );\n        if (header.specVersion === 1) {\n          leaf_dir = sortDir(leaf_dir);\n        }\n        const tile_entry = queryTile(new DataView(leaf_dir), z, x, y);\n        if (tile_entry) {\n          const resp = yield source.getBytes(\n            tile_entry.offset,\n            tile_entry.length,\n            signal\n          );\n          let tile_data = resp.data;\n          const view = new DataView(tile_data);\n          if (view.getUint8(0) == 31 && view.getUint8(1) == 139) {\n            tile_data = decompressSync(new Uint8Array(tile_data));\n          }\n          return {\n            data: tile_data\n          };\n        }\n      }\n    }\n    return void 0;\n  });\n}\nvar v2_default = {\n  getHeader,\n  getZxy\n};\n\n// adapters.ts\nvar leafletRasterLayer = (source, options) => {\n  let loaded = false;\n  const cls = L.GridLayer.extend({\n    createTile: function(coord, done) {\n      const el = document.createElement(\"img\");\n      const controller = new AbortController();\n      const signal = controller.signal;\n      el.cancel = () => {\n        controller.abort();\n      };\n      if (!loaded) {\n        source.getHeader().then((header) => {\n          if (header.tileType == 1 /* Mvt */) {\n            console.error(\n              \"Error: archive contains MVT vector tiles, but leafletRasterLayer is for displaying raster tiles. See https://github.com/protomaps/PMTiles/tree/main/js for details.\"\n            );\n          }\n        });\n        loaded = true;\n      }\n      source.getZxy(coord.z, coord.x, coord.y, signal).then((arr) => {\n        if (arr) {\n          const blob = new Blob([arr.data]);\n          const imageUrl = window.URL.createObjectURL(blob);\n          el.src = imageUrl;\n          el.cancel = null;\n          done(null, el);\n        }\n      }).catch((e) => {\n        if (e.name !== \"AbortError\") {\n          throw e;\n        }\n      });\n      return el;\n    },\n    _removeTile: function(key) {\n      const tile = this._tiles[key];\n      if (!tile) {\n        return;\n      }\n      if (tile.el.cancel)\n        tile.el.cancel();\n      tile.el.width = 0;\n      tile.el.height = 0;\n      tile.el.deleted = true;\n      L.DomUtil.remove(tile.el);\n      delete this._tiles[key];\n      this.fire(\"tileunload\", {\n        tile: tile.el,\n        coords: this._keyToTileCoords(key)\n      });\n    }\n  });\n  return new cls(options);\n};\nvar Protocol = class {\n  constructor() {\n    this.tile = (params, callback) => {\n      if (params.type == \"json\") {\n        const pmtiles_url = params.url.substr(10);\n        let instance = this.tiles.get(pmtiles_url);\n        if (!instance) {\n          instance = new PMTiles(pmtiles_url);\n          this.tiles.set(pmtiles_url, instance);\n        }\n        instance.getHeader().then((h) => {\n          const tilejson = {\n            tiles: [params.url + \"/{z}/{x}/{y}\"],\n            minzoom: h.minZoom,\n            maxzoom: h.maxZoom\n          };\n          callback(null, tilejson, null, null);\n        });\n        return {\n          cancel: () => {\n          }\n        };\n      } else {\n        const re = new RegExp(/pmtiles:\\/\\/(.+)\\/(\\d+)\\/(\\d+)\\/(\\d+)/);\n        const result = params.url.match(re);\n        if (!result) {\n          throw new Error(\"Invalid PMTiles protocol URL\");\n          return {\n            cancel: () => {\n            }\n          };\n        }\n        const pmtiles_url = result[1];\n        let instance = this.tiles.get(pmtiles_url);\n        if (!instance) {\n          instance = new PMTiles(pmtiles_url);\n          this.tiles.set(pmtiles_url, instance);\n        }\n        const z = result[2];\n        const x = result[3];\n        const y = result[4];\n        const controller = new AbortController();\n        const signal = controller.signal;\n        let cancel = () => {\n          controller.abort();\n        };\n        instance.getHeader().then((header) => {\n          instance.getZxy(+z, +x, +y, signal).then((resp) => {\n            if (resp) {\n              callback(\n                null,\n                new Uint8Array(resp.data),\n                resp.cacheControl,\n                resp.expires\n              );\n            } else {\n              if (header.tileType == 1 /* Mvt */) {\n                callback(null, new Uint8Array(), null, null);\n              } else {\n                callback(null, null, null, null);\n              }\n            }\n          }).catch((e) => {\n            if (e.name !== \"AbortError\") {\n              throw e;\n            }\n          });\n        });\n        return {\n          cancel\n        };\n      }\n    };\n    this.tiles = /* @__PURE__ */ new Map();\n  }\n  add(p) {\n    this.tiles.set(p.source.getKey(), p);\n  }\n  get(url) {\n    return this.tiles.get(url);\n  }\n};\n\n// index.ts\nfunction toNum(low, high) {\n  return (high >>> 0) * 4294967296 + (low >>> 0);\n}\nfunction readVarintRemainder(l, p) {\n  const buf = p.buf;\n  let h, b;\n  b = buf[p.pos++];\n  h = (b & 112) >> 4;\n  if (b < 128)\n    return toNum(l, h);\n  b = buf[p.pos++];\n  h |= (b & 127) << 3;\n  if (b < 128)\n    return toNum(l, h);\n  b = buf[p.pos++];\n  h |= (b & 127) << 10;\n  if (b < 128)\n    return toNum(l, h);\n  b = buf[p.pos++];\n  h |= (b & 127) << 17;\n  if (b < 128)\n    return toNum(l, h);\n  b = buf[p.pos++];\n  h |= (b & 127) << 24;\n  if (b < 128)\n    return toNum(l, h);\n  b = buf[p.pos++];\n  h |= (b & 1) << 31;\n  if (b < 128)\n    return toNum(l, h);\n  throw new Error(\"Expected varint not more than 10 bytes\");\n}\nfunction readVarint(p) {\n  const buf = p.buf;\n  let val, b;\n  b = buf[p.pos++];\n  val = b & 127;\n  if (b < 128)\n    return val;\n  b = buf[p.pos++];\n  val |= (b & 127) << 7;\n  if (b < 128)\n    return val;\n  b = buf[p.pos++];\n  val |= (b & 127) << 14;\n  if (b < 128)\n    return val;\n  b = buf[p.pos++];\n  val |= (b & 127) << 21;\n  if (b < 128)\n    return val;\n  b = buf[p.pos];\n  val |= (b & 15) << 28;\n  return readVarintRemainder(val, p);\n}\nfunction rotate(n, xy, rx, ry) {\n  if (ry == 0) {\n    if (rx == 1) {\n      xy[0] = n - 1 - xy[0];\n      xy[1] = n - 1 - xy[1];\n    }\n    const t = xy[0];\n    xy[0] = xy[1];\n    xy[1] = t;\n  }\n}\nfunction idOnLevel(z, pos) {\n  const n = Math.pow(2, z);\n  let rx = pos;\n  let ry = pos;\n  let t = pos;\n  const xy = [0, 0];\n  let s = 1;\n  while (s < n) {\n    rx = 1 & t / 2;\n    ry = 1 & (t ^ rx);\n    rotate(s, xy, rx, ry);\n    xy[0] += s * rx;\n    xy[1] += s * ry;\n    t = t / 4;\n    s *= 2;\n  }\n  return [z, xy[0], xy[1]];\n}\nvar tzValues = [\n  0,\n  1,\n  5,\n  21,\n  85,\n  341,\n  1365,\n  5461,\n  21845,\n  87381,\n  349525,\n  1398101,\n  5592405,\n  22369621,\n  89478485,\n  357913941,\n  1431655765,\n  5726623061,\n  22906492245,\n  91625968981,\n  366503875925,\n  1466015503701,\n  5864062014805,\n  23456248059221,\n  93824992236885,\n  375299968947541,\n  1501199875790165\n];\nfunction zxyToTileId(z, x, y) {\n  if (z > 26) {\n    throw Error(\"Tile zoom level exceeds max safe number limit (26)\");\n  }\n  if (x > Math.pow(2, z) - 1 || y > Math.pow(2, z) - 1) {\n    throw Error(\"tile x/y outside zoom level bounds\");\n  }\n  const acc = tzValues[z];\n  const n = Math.pow(2, z);\n  let rx = 0;\n  let ry = 0;\n  let d = 0;\n  const xy = [x, y];\n  let s = n / 2;\n  while (s > 0) {\n    rx = (xy[0] & s) > 0 ? 1 : 0;\n    ry = (xy[1] & s) > 0 ? 1 : 0;\n    d += s * s * (3 * rx ^ ry);\n    rotate(s, xy, rx, ry);\n    s = s / 2;\n  }\n  return acc + d;\n}\nfunction tileIdToZxy(i) {\n  let acc = 0;\n  let z = 0;\n  for (let z2 = 0; z2 < 27; z2++) {\n    const num_tiles = (1 << z2) * (1 << z2);\n    if (acc + num_tiles > i) {\n      return idOnLevel(z2, i - acc);\n    }\n    acc += num_tiles;\n  }\n  throw Error(\"Tile zoom level exceeds max safe number limit (26)\");\n}\nvar Compression = /* @__PURE__ */ ((Compression2) => {\n  Compression2[Compression2[\"Unknown\"] = 0] = \"Unknown\";\n  Compression2[Compression2[\"None\"] = 1] = \"None\";\n  Compression2[Compression2[\"Gzip\"] = 2] = \"Gzip\";\n  Compression2[Compression2[\"Brotli\"] = 3] = \"Brotli\";\n  Compression2[Compression2[\"Zstd\"] = 4] = \"Zstd\";\n  return Compression2;\n})(Compression || {});\nfunction fflateDecompress(buf, compression) {\n  return __async(this, null, function* () {\n    if (compression === 1 /* None */ || compression === 0 /* Unknown */) {\n      return buf;\n    } else if (compression === 2 /* Gzip */) {\n      return decompressSync(new Uint8Array(buf));\n    } else {\n      throw Error(\"Compression method not supported\");\n    }\n  });\n}\nvar TileType = /* @__PURE__ */ ((TileType2) => {\n  TileType2[TileType2[\"Unknown\"] = 0] = \"Unknown\";\n  TileType2[TileType2[\"Mvt\"] = 1] = \"Mvt\";\n  TileType2[TileType2[\"Png\"] = 2] = \"Png\";\n  TileType2[TileType2[\"Jpeg\"] = 3] = \"Jpeg\";\n  TileType2[TileType2[\"Webp\"] = 4] = \"Webp\";\n  return TileType2;\n})(TileType || {});\nvar HEADER_SIZE_BYTES = 127;\nfunction findTile(entries, tileId) {\n  let m = 0;\n  let n = entries.length - 1;\n  while (m <= n) {\n    const k = n + m >> 1;\n    const cmp = tileId - entries[k].tileId;\n    if (cmp > 0) {\n      m = k + 1;\n    } else if (cmp < 0) {\n      n = k - 1;\n    } else {\n      return entries[k];\n    }\n  }\n  if (n >= 0) {\n    if (entries[n].runLength === 0) {\n      return entries[n];\n    }\n    if (tileId - entries[n].tileId < entries[n].runLength) {\n      return entries[n];\n    }\n  }\n  return null;\n}\nvar FileAPISource = class {\n  constructor(file) {\n    this.file = file;\n  }\n  getKey() {\n    return this.file.name;\n  }\n  getBytes(offset, length) {\n    return __async(this, null, function* () {\n      const blob = this.file.slice(offset, offset + length);\n      const a = yield blob.arrayBuffer();\n      return { data: a };\n    });\n  }\n};\nvar FetchSource = class {\n  constructor(url) {\n    this.url = url;\n  }\n  getKey() {\n    return this.url;\n  }\n  getBytes(offset, length, signal) {\n    return __async(this, null, function* () {\n      let controller;\n      if (!signal) {\n        controller = new AbortController();\n        signal = controller.signal;\n      }\n      let resp = yield fetch(this.url, {\n        signal,\n        headers: { Range: \"bytes=\" + offset + \"-\" + (offset + length - 1) }\n      });\n      if (resp.status === 416 && offset === 0) {\n        const content_range = resp.headers.get(\"Content-Range\");\n        if (!content_range || !content_range.startsWith(\"bytes */\")) {\n          throw Error(\"Missing content-length on 416 response\");\n        }\n        const actual_length = +content_range.substr(8);\n        resp = yield fetch(this.url, {\n          signal,\n          headers: { Range: \"bytes=0-\" + (actual_length - 1) }\n        });\n      }\n      if (resp.status >= 300) {\n        throw Error(\"Bad response code: \" + resp.status);\n      }\n      const content_length = resp.headers.get(\"Content-Length\");\n      if (resp.status === 200 && (!content_length || +content_length > length)) {\n        if (controller)\n          controller.abort();\n        throw Error(\n          \"Server returned no content-length header or content-length exceeding request. Check that your storage backend supports HTTP Byte Serving.\"\n        );\n      }\n      const a = yield resp.arrayBuffer();\n      return {\n        data: a,\n        etag: resp.headers.get(\"ETag\") || void 0,\n        cacheControl: resp.headers.get(\"Cache-Control\") || void 0,\n        expires: resp.headers.get(\"Expires\") || void 0\n      };\n    });\n  }\n};\nfunction getUint64(v, offset) {\n  const wh = v.getUint32(offset + 4, true);\n  const wl = v.getUint32(offset + 0, true);\n  return wh * Math.pow(2, 32) + wl;\n}\nfunction bytesToHeader(bytes, etag) {\n  const v = new DataView(bytes);\n  const spec_version = v.getUint8(7);\n  if (spec_version > 3) {\n    throw Error(\n      `Archive is spec version ${spec_version} but this library supports up to spec version 3`\n    );\n  }\n  return {\n    specVersion: spec_version,\n    rootDirectoryOffset: getUint64(v, 8),\n    rootDirectoryLength: getUint64(v, 16),\n    jsonMetadataOffset: getUint64(v, 24),\n    jsonMetadataLength: getUint64(v, 32),\n    leafDirectoryOffset: getUint64(v, 40),\n    leafDirectoryLength: getUint64(v, 48),\n    tileDataOffset: getUint64(v, 56),\n    tileDataLength: getUint64(v, 64),\n    numAddressedTiles: getUint64(v, 72),\n    numTileEntries: getUint64(v, 80),\n    numTileContents: getUint64(v, 88),\n    clustered: v.getUint8(96) === 1,\n    internalCompression: v.getUint8(97),\n    tileCompression: v.getUint8(98),\n    tileType: v.getUint8(99),\n    minZoom: v.getUint8(100),\n    maxZoom: v.getUint8(101),\n    minLon: v.getInt32(102, true) / 1e7,\n    minLat: v.getInt32(106, true) / 1e7,\n    maxLon: v.getInt32(110, true) / 1e7,\n    maxLat: v.getInt32(114, true) / 1e7,\n    centerZoom: v.getUint8(118),\n    centerLon: v.getInt32(119, true) / 1e7,\n    centerLat: v.getInt32(123, true) / 1e7,\n    etag\n  };\n}\nfunction deserializeIndex(buffer) {\n  const p = { buf: new Uint8Array(buffer), pos: 0 };\n  const numEntries = readVarint(p);\n  const entries = [];\n  let lastId = 0;\n  for (let i = 0; i < numEntries; i++) {\n    const v = readVarint(p);\n    entries.push({ tileId: lastId + v, offset: 0, length: 0, runLength: 1 });\n    lastId += v;\n  }\n  for (let i = 0; i < numEntries; i++) {\n    entries[i].runLength = readVarint(p);\n  }\n  for (let i = 0; i < numEntries; i++) {\n    entries[i].length = readVarint(p);\n  }\n  for (let i = 0; i < numEntries; i++) {\n    const v = readVarint(p);\n    if (v === 0 && i > 0) {\n      entries[i].offset = entries[i - 1].offset + entries[i - 1].length;\n    } else {\n      entries[i].offset = v - 1;\n    }\n  }\n  return entries;\n}\nfunction detectVersion(a) {\n  const v = new DataView(a);\n  if (v.getUint16(2, true) === 2) {\n    console.warn(\n      \"PMTiles spec version 2 has been deprecated; please see github.com/protomaps/PMTiles for tools to upgrade\"\n    );\n    return 2;\n  } else if (v.getUint16(2, true) === 1) {\n    console.warn(\n      \"PMTiles spec version 1 has been deprecated; please see github.com/protomaps/PMTiles for tools to upgrade\"\n    );\n    return 1;\n  }\n  return 3;\n}\nvar EtagMismatch = class extends Error {\n};\nfunction getHeaderAndRoot(source, decompress, prefetch, current_etag) {\n  return __async(this, null, function* () {\n    const resp = yield source.getBytes(0, 16384);\n    const v = new DataView(resp.data);\n    if (v.getUint16(0, true) !== 19792) {\n      throw new Error(\"Wrong magic number for PMTiles archive\");\n    }\n    if (detectVersion(resp.data) < 3) {\n      return [yield v2_default.getHeader(source)];\n    }\n    const headerData = resp.data.slice(0, HEADER_SIZE_BYTES);\n    let resp_etag = resp.etag;\n    if (current_etag && resp.etag != current_etag) {\n      console.warn(\n        \"ETag conflict detected; your HTTP server might not support content-based ETag headers. ETags disabled for \" + source.getKey()\n      );\n      resp_etag = void 0;\n    }\n    const header = bytesToHeader(headerData, resp_etag);\n    if (prefetch) {\n      const rootDirData = resp.data.slice(\n        header.rootDirectoryOffset,\n        header.rootDirectoryOffset + header.rootDirectoryLength\n      );\n      const dirKey = source.getKey() + \"|\" + (header.etag || \"\") + \"|\" + header.rootDirectoryOffset + \"|\" + header.rootDirectoryLength;\n      const rootDir = deserializeIndex(\n        yield decompress(rootDirData, header.internalCompression)\n      );\n      return [header, [dirKey, rootDir.length, rootDir]];\n    }\n    return [header, void 0];\n  });\n}\nfunction getDirectory(source, decompress, offset, length, header) {\n  return __async(this, null, function* () {\n    const resp = yield source.getBytes(offset, length);\n    if (header.etag && header.etag !== resp.etag) {\n      throw new EtagMismatch(resp.etag);\n    }\n    const data = yield decompress(resp.data, header.internalCompression);\n    const directory = deserializeIndex(data);\n    if (directory.length === 0) {\n      throw new Error(\"Empty directory is invalid\");\n    }\n    return directory;\n  });\n}\nvar ResolvedValueCache = class {\n  constructor(maxCacheEntries = 100, prefetch = true, decompress = fflateDecompress) {\n    this.cache = /* @__PURE__ */ new Map();\n    this.maxCacheEntries = maxCacheEntries;\n    this.counter = 1;\n    this.prefetch = prefetch;\n    this.decompress = decompress;\n  }\n  getHeader(source, current_etag) {\n    return __async(this, null, function* () {\n      const cacheKey = source.getKey();\n      if (this.cache.has(cacheKey)) {\n        this.cache.get(cacheKey).lastUsed = this.counter++;\n        const data = this.cache.get(cacheKey).data;\n        return data;\n      }\n      const res = yield getHeaderAndRoot(\n        source,\n        this.decompress,\n        this.prefetch,\n        current_etag\n      );\n      if (res[1]) {\n        this.cache.set(res[1][0], {\n          lastUsed: this.counter++,\n          data: res[1][2]\n        });\n      }\n      this.cache.set(cacheKey, {\n        lastUsed: this.counter++,\n        data: res[0]\n      });\n      this.prune();\n      return res[0];\n    });\n  }\n  getDirectory(source, offset, length, header) {\n    return __async(this, null, function* () {\n      const cacheKey = source.getKey() + \"|\" + (header.etag || \"\") + \"|\" + offset + \"|\" + length;\n      if (this.cache.has(cacheKey)) {\n        this.cache.get(cacheKey).lastUsed = this.counter++;\n        const data = this.cache.get(cacheKey).data;\n        return data;\n      }\n      const directory = yield getDirectory(\n        source,\n        this.decompress,\n        offset,\n        length,\n        header\n      );\n      this.cache.set(cacheKey, {\n        lastUsed: this.counter++,\n        data: directory\n      });\n      this.prune();\n      return directory;\n    });\n  }\n  getArrayBuffer(source, offset, length, header) {\n    return __async(this, null, function* () {\n      const cacheKey = source.getKey() + \"|\" + (header.etag || \"\") + \"|\" + offset + \"|\" + length;\n      if (this.cache.has(cacheKey)) {\n        this.cache.get(cacheKey).lastUsed = this.counter++;\n        const data = yield this.cache.get(cacheKey).data;\n        return data;\n      }\n      const resp = yield source.getBytes(offset, length);\n      if (header.etag && header.etag !== resp.etag) {\n        throw new EtagMismatch(header.etag);\n      }\n      this.cache.set(cacheKey, {\n        lastUsed: this.counter++,\n        data: resp.data\n      });\n      this.prune();\n      return resp.data;\n    });\n  }\n  prune() {\n    if (this.cache.size > this.maxCacheEntries) {\n      let minUsed = Infinity;\n      let minKey = void 0;\n      this.cache.forEach((cache_value, key) => {\n        if (cache_value.lastUsed < minUsed) {\n          minUsed = cache_value.lastUsed;\n          minKey = key;\n        }\n      });\n      if (minKey) {\n        this.cache.delete(minKey);\n      }\n    }\n  }\n  invalidate(source, current_etag) {\n    return __async(this, null, function* () {\n      this.cache.delete(source.getKey());\n      yield this.getHeader(source, current_etag);\n    });\n  }\n};\nvar SharedPromiseCache = class {\n  constructor(maxCacheEntries = 100, prefetch = true, decompress = fflateDecompress) {\n    this.cache = /* @__PURE__ */ new Map();\n    this.maxCacheEntries = maxCacheEntries;\n    this.counter = 1;\n    this.prefetch = prefetch;\n    this.decompress = decompress;\n  }\n  getHeader(source, current_etag) {\n    return __async(this, null, function* () {\n      const cacheKey = source.getKey();\n      if (this.cache.has(cacheKey)) {\n        this.cache.get(cacheKey).lastUsed = this.counter++;\n        const data = yield this.cache.get(cacheKey).data;\n        return data;\n      }\n      const p = new Promise((resolve, reject) => {\n        getHeaderAndRoot(source, this.decompress, this.prefetch, current_etag).then((res) => {\n          if (res[1]) {\n            this.cache.set(res[1][0], {\n              lastUsed: this.counter++,\n              data: Promise.resolve(res[1][2])\n            });\n          }\n          resolve(res[0]);\n          this.prune();\n        }).catch((e) => {\n          reject(e);\n        });\n      });\n      this.cache.set(cacheKey, { lastUsed: this.counter++, data: p });\n      return p;\n    });\n  }\n  getDirectory(source, offset, length, header) {\n    return __async(this, null, function* () {\n      const cacheKey = source.getKey() + \"|\" + (header.etag || \"\") + \"|\" + offset + \"|\" + length;\n      if (this.cache.has(cacheKey)) {\n        this.cache.get(cacheKey).lastUsed = this.counter++;\n        const data = yield this.cache.get(cacheKey).data;\n        return data;\n      }\n      const p = new Promise((resolve, reject) => {\n        getDirectory(source, this.decompress, offset, length, header).then((directory) => {\n          resolve(directory);\n          this.prune();\n        }).catch((e) => {\n          reject(e);\n        });\n      });\n      this.cache.set(cacheKey, { lastUsed: this.counter++, data: p });\n      return p;\n    });\n  }\n  getArrayBuffer(source, offset, length, header) {\n    return __async(this, null, function* () {\n      const cacheKey = source.getKey() + \"|\" + (header.etag || \"\") + \"|\" + offset + \"|\" + length;\n      if (this.cache.has(cacheKey)) {\n        this.cache.get(cacheKey).lastUsed = this.counter++;\n        const data = yield this.cache.get(cacheKey).data;\n        return data;\n      }\n      const p = new Promise((resolve, reject) => {\n        source.getBytes(offset, length).then((resp) => {\n          if (header.etag && header.etag !== resp.etag) {\n            throw new EtagMismatch(resp.etag);\n          }\n          resolve(resp.data);\n          if (this.cache.has(cacheKey)) {\n          }\n          this.prune();\n        }).catch((e) => {\n          reject(e);\n        });\n      });\n      this.cache.set(cacheKey, { lastUsed: this.counter++, data: p });\n      return p;\n    });\n  }\n  prune() {\n    if (this.cache.size >= this.maxCacheEntries) {\n      let minUsed = Infinity;\n      let minKey = void 0;\n      this.cache.forEach(\n        (cache_value, key) => {\n          if (cache_value.lastUsed < minUsed) {\n            minUsed = cache_value.lastUsed;\n            minKey = key;\n          }\n        }\n      );\n      if (minKey) {\n        this.cache.delete(minKey);\n      }\n    }\n  }\n  invalidate(source, current_etag) {\n    return __async(this, null, function* () {\n      this.cache.delete(source.getKey());\n      yield this.getHeader(source, current_etag);\n    });\n  }\n};\nvar PMTiles = class {\n  constructor(source, cache, decompress) {\n    if (typeof source === \"string\") {\n      this.source = new FetchSource(source);\n    } else {\n      this.source = source;\n    }\n    if (decompress) {\n      this.decompress = decompress;\n    } else {\n      this.decompress = fflateDecompress;\n    }\n    if (cache) {\n      this.cache = cache;\n    } else {\n      this.cache = new SharedPromiseCache();\n    }\n  }\n  getHeader() {\n    return __async(this, null, function* () {\n      return yield this.cache.getHeader(this.source);\n    });\n  }\n  getZxyAttempt(z, x, y, signal) {\n    return __async(this, null, function* () {\n      const tile_id = zxyToTileId(z, x, y);\n      const header = yield this.cache.getHeader(this.source);\n      if (header.specVersion < 3) {\n        return v2_default.getZxy(header, this.source, this.cache, z, x, y, signal);\n      }\n      if (z < header.minZoom || z > header.maxZoom) {\n        return void 0;\n      }\n      let d_o = header.rootDirectoryOffset;\n      let d_l = header.rootDirectoryLength;\n      for (let depth = 0; depth <= 3; depth++) {\n        const directory = yield this.cache.getDirectory(\n          this.source,\n          d_o,\n          d_l,\n          header\n        );\n        const entry = findTile(directory, tile_id);\n        if (entry) {\n          if (entry.runLength > 0) {\n            const resp = yield this.source.getBytes(\n              header.tileDataOffset + entry.offset,\n              entry.length,\n              signal\n            );\n            if (header.etag && header.etag !== resp.etag) {\n              throw new EtagMismatch(resp.etag);\n            }\n            return {\n              data: yield this.decompress(resp.data, header.tileCompression),\n              cacheControl: resp.cacheControl,\n              expires: resp.expires\n            };\n          } else {\n            d_o = header.leafDirectoryOffset + entry.offset;\n            d_l = entry.length;\n          }\n        } else {\n          return void 0;\n        }\n      }\n      throw Error(\"Maximum directory depth exceeded\");\n    });\n  }\n  getZxy(z, x, y, signal) {\n    return __async(this, null, function* () {\n      try {\n        return yield this.getZxyAttempt(z, x, y, signal);\n      } catch (e) {\n        if (e instanceof EtagMismatch) {\n          this.cache.invalidate(this.source, e.message);\n          return yield this.getZxyAttempt(z, x, y, signal);\n        } else {\n          throw e;\n        }\n      }\n    });\n  }\n  getMetadataAttempt() {\n    return __async(this, null, function* () {\n      const header = yield this.cache.getHeader(this.source);\n      const resp = yield this.source.getBytes(\n        header.jsonMetadataOffset,\n        header.jsonMetadataLength\n      );\n      if (header.etag && header.etag !== resp.etag) {\n        throw new EtagMismatch(resp.etag);\n      }\n      const decompressed = yield this.decompress(\n        resp.data,\n        header.internalCompression\n      );\n      const dec = new TextDecoder(\"utf-8\");\n      return JSON.parse(dec.decode(decompressed));\n    });\n  }\n  getMetadata() {\n    return __async(this, null, function* () {\n      try {\n        return yield this.getMetadataAttempt();\n      } catch (e) {\n        if (e instanceof EtagMismatch) {\n          this.cache.invalidate(this.source, e.message);\n          return yield this.getMetadataAttempt();\n        } else {\n          throw e;\n        }\n      }\n    });\n  }\n};\nexport {\n  Compression,\n  EtagMismatch,\n  FetchSource,\n  FileAPISource,\n  PMTiles,\n  Protocol,\n  ResolvedValueCache,\n  SharedPromiseCache,\n  TileType,\n  bytesToHeader,\n  findTile,\n  getUint64,\n  leafletRasterLayer,\n  readVarint,\n  tileIdToZxy,\n  zxyToTileId\n};\n"],
  "mappings": "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",
  "names": ["x", "i"]
}
